<!DOCTYPE html>
<html>
<head>
</head>
<body>

<h1>Your Album Collection</h1>

{% for id in albums %}
<div>
	<ul>
		<li>Album: {{id.title}}</li>
		<li>Artist: {{id.artist}}</li>
		<li>Year: {{id.year}}</li>
	</ul>
</div>
{%endfor%}


<div id="album">
<h1>Using JSON Parse</h1>

</div>




<script>
console.log("hi");
var xhr = new XMLHttpRequest();
xhr.open('GET', '/gson');
console.log("hello");
xhr.onload = function(evt) {
   if (xhr.status === 200) {
        var response = JSON.parse(xhr.responseText);
        console.log(response);
        
        
        var myAlbumDiv = document.getElementById("album");
        
        for(i = 0; i < response.length; i++) {
        	var ol = document.createElement("ol");
        	myAlbumDiv.appendChild(ol);
        	var li = document.createElement("li");
 			ol.appendChild(li);
            li.innerHTML = response[i].title;
            li = document.createElement("li");
            ol.appendChild(li);
            li.innerHTML = response[i].artist;
            li = document.createElement("li");
            ol.appendChild(li);
            li.innerHTML = response[i].year;
    	}
    } else {
        alert('Request failed.  Returned status of ' + xhr.status);
    }
};
xhr.send();


</script>